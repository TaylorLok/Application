<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title> Welcome to second hand book shop</title>

</head>

<body>
<a href="index.php">Home</a>
<br/><br/>
<form action="" method="post" name="form1">
    <table width="25%" border="0">
        <tr>
            <td>Student no</td>
            <td><input type="text" name="studentId"></td>
        </tr>
        <tr>
            <td>Name</td>
            <td><input type="text" name="name"></td>
        </tr>
        <tr>
            <td>Surname</td>
            <td><input type="text" name="surname"></td>
        </tr>
        <tr>
            <td></td>
            <td><input type="submit" name="Submit" value="Create"></td>
        </tr>
    </table>
</form>


<?php
</body>
$curl = curl_init();
$studentId="";
$name="";
$surname="";
if(isset($_POST['studentId'])){
$studentId=$_POST["studentId"];
}
if(isset($_POST['name'])){
$name=$_POST["name"];
}
if(isset($_POST['surname'])){
$surname=$_POST["surname"];
}

if($_SERVER["REQUEST_METHOD"] == "POST"){
$studentId=$_POST[$studentId];
$name=$_POST[$name];
$surname=$_POST[$surname];
}
if(isset($_POST['submit'])) {
curl_setopt_array($curl, array(
CURLOPT_PORT => "8080",
CURLOPT_URL => "http://localhost:8080/secondhandbook/buyer/create",
CURLOPT_RETURNTRANSFER => true,
CURLOPT_ENCODING => "",
CURLOPT_MAXREDIRS => 10,
CURLOPT_TIMEOUT => 30,
CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,
CURLOPT_CUSTOMREQUEST => "POST",
CURLOPT_POSTFIELDS => "{\n\t\"studentID\": \$studentID,\n\t\"name\": $name,\n\t\"surname\": $surname}",
CURLOPT_HTTPHEADER => array(
"Accept: */*",
"Accept-Encoding: gzip, deflate",
"Authorization: Basic YWRtaW46Y3B1dFBUYWRtaW4=",
"Cache-Control: no-cache",
"Connection: keep-alive",
"Content-Length: 33",
),
));
$response = curl_exec($curl);
$err = curl_error($curl);
curl_close($curl);
if ($err) {
echo "cURL Error #:" . $err;
} else {
echo $response;
}
?>


<?php
    function pre_r($array)
    {
        echo '<pre>';
print_r($array);
echo '</pre>';
}
}
?>
</body>
</html>


